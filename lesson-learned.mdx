---
title: "Lesson Learned"
description: "Building a Safe-Reliable Protocol"
---

Building **ScaleX Protocol** required studying real-world DeFi failures to design a fundamentally more resilient system. 

The crypto space has witnessed numerous protocols collapse due to preventable vulnerabilities, oracle failures, and flawed economic designs. By analyzing these incidents, we've identified patterns of failure that inform every architectural decision in ScaleX—from oracle design to liquidation mechanisms—ensuring our yield-bearing CLOB avoids the pitfalls that have compromised other platforms.

## Past Cases

1. **Centralized Hyperliquid CLOB Vault (Jelly-jelly attack)**

Attack happened when a trader open massive short but price is skyrocketed. The loss is too big and imbalance orderbook liquidity, then HLP (hyperliquid vault) take over the trade that exposed into large risk  

**Lesson :** Oracle override, using vault as liquidity engine, centralized vault

2. **Binance Oracle (ATOM, BNSOL, USDE, WBETH)**

A domino effect triggered by a internal oracle, amplified by auto-liquidations and feedback loops inside Binance. A small liquidity hiccup → wrong price feed → mass liquidation → more selling → system meltdown. But, binance announce incorrect price due to display issue

**Lesson :** unstable oracle, unclear, no transparency

3. **Executed Trade Without Oracle (Balancer Exploit)**

Attacker crafted a transaction that skipped any price quote step and directly told the Vault to move funds, often doing the rest (swaps, consolidation, bridging) in the same transaction or immediately after.

**Lesson :** No quotation/price discovery on vault activity

## Traditional Lending Protocol Feature Issue

**The Traders POV** 

1. **Borrowing Liquidation** 

When traders borrow against their collateral, lending protocols force liquidate during market drops. Users watch helplessly as their collateral gets sold at crash prices, **unable to protect themselves** by strategically converting to stable assets beforehand.

2. **Expensive Manual Repayment Cost**

When traders borrow asset and immediately swap to other asset, they must manually repay the loan at market rates (including gas fees, slippage etc). They **miss opportunities to automatically repay at prefferable price**, then losing the chance to reduce borrowing costs during market dips.

## Our CLOB Protection Layer
To prevent incidents like the last three major DeFi cases, we should ensure:

<Columns cols={2}>
  <Card
    title="Price Protection"
  >
    Natural price discovery from oracle and unamplified by liquidity depth. 
  </Card>
  <Card
    title="Transparent & Verifyable"
  >
    Order execution based on real time on-chain activity.
  </Card>
    <Card
    title="Independent Vault"
  >
    Every single trade/transfer purely come from market dynamics.
  </Card>
  <Card
    title="Fair and Precise Liquidation"
  >
    Liquidation driven by health factor, not liquidity depth.
  </Card>
</Columns>

## Our Solution

ScaleX routes idle order capital to a lending pool until fill, dynamically manages utilization to protect lenders and borrowers, and shares interest back to lenders—aligning **incentives while preserving orderbook** liquidity, while **allowing users to personalize orders** at preferred prices. 
    
Orderbook liquidity is **natural and user-driven; no internal vault manufactures orders**.
