![Unified CLOB DEX-Lending Protocol Architecture](/images/architecture.png)

The Unified CLOB DEX-Lending Protocol integrates trading and lending through five core components that work together to maximize capital efficiency.

## Core Components

### BalanceManager
Central hub that manages asset allocation between trading and lending operations. When users deposit assets, BalanceManager automatically mints synthetic tokens for trading and allocates real assets to lending pools.

### Synthetic Tokens
ERC20 tokens representing 1:1 pegged underlying assets with separate yield tracking through weighted checkpoints. These tokens enable clean order book operations while users earn yield from their underlying assets.

### OrderBook
High-performance Central Limit Order Book with Red-Black Tree data structure for O(log n) price operations. Handles synthetic token trading with integrated lending awareness for advanced position management.

### Oracle  
Multi-timeframe TWAP price oracle providing manipulation-resistant pricing. Uses different timeframes for various operations: current prices for trading, medium-term for borrowing, and conservative long-term for collateral valuation.

### LendingManager
Native lending protocol with integrated order book access. Manages interest rates, collateral calculations, and provides advanced features like pre-positioned protective orders and automated loan repayment.

## Component Integration

These five components work together through a unified asset model where:

1. Users deposit to BalanceManager â†’ receive synthetic tokens
2. Synthetic tokens trade on OrderBook while earning yield
3. Oracle provides secure pricing for all operations  
4. LendingManager generates yield from real assets
5. BalanceManager maintains 1:1 peg and tracks yields

## Documentation Structure

**[Protocol Mechanics](./protocol-mechanics)** - System fundamentals and user-facing concepts

**Lending Protocol** - Deposit, borrow, LTV, liquidation mechanics

**CLOB** - Order book operations and oracle systems

**Technical Architecture** - Red-Black Tree, yield distribution, collateral pricing, advanced derivatives